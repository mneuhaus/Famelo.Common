<f:layout name="Default" />

<f:section name="Content">
<style type="text/css">
	.btn-toolbar {
		margin-top: 20px;
	}
</style>
	<f:for each="{packageGroups}" as="packages" key="groupName">
		<div class="row">
			<div class="col-xs-6">
				<h3>{groupName}</h3>
			</div>
			<div class="col-xs-6">
				<div class="btn-toolbar pull-right">
					<f:link.action action="freezeByType" arguments="{type: groupName}" class="btn btn-info btn-sm">
						freeze
					</f:link.action>
					<f:link.action action="unfreezeByType" arguments="{type: groupName}" class="btn btn-warning btn-sm">
						unfreeze
					</f:link.action>
				</div>
			</div>
		</div>
		<table class="table table-striped table-bordered">
			<tr>
				<th>Name</th>
				<th>Active</th>
				<th>Frozen</th>
			</tr>
			<f:for each="{packages}" as="package">
				<tr>
					<td>
						<strong>{package.object.packageKey}</strong>
					</td>
					<td>{f:if(condition: package.active, then: 'yes', else: 'no')}</td>
					<td>
						<f:if condition="{package.frozen}">
							<f:then>
								<f:link.action action="unfreezePackage" arguments="{package: package.object.packageKey}" class="btn btn-warning btn-xs">
									unfreeze
								</f:link.action>
							</f:then>
							<f:else>
								<f:link.action action="freezePackage" arguments="{package: package.object.packageKey}" class="btn btn-info btn-xs">
									freeze
								</f:link.action>
							</f:else>
						</f:if>
					</td>
				</tr>
			</f:for>
		</table>
	</f:for>
</f:section>